{"ast":null,"code":"var _jsxFileName = \"/Users/ljubomirkolev/DIANS/GitHub/BeOurGuest-Homeworks/Homework 3/client/src/pages/Event.jsx\",\n  _s = $RefreshSig$();\nimport React, { Suspense, useState } from 'react';\nimport { Link, renderMatches, useLocation } from 'react-router-dom';\nimport { MDBContainer, MDBRow, MDBCol } from 'mdb-react-ui-kit';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Event() {\n  let images = [];\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading events...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 33\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(LoadEvents, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 61\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 13\n  }, this);\n}\n_c = Event;\nfunction arrayBufferToBase64(buffer) {\n  var binary = '';\n  var bytes = [].slice.call(new Uint8Array(buffer));\n  bytes.forEach(b => binary += String.fromCharCode(b));\n  return window.btoa(binary);\n}\n;\nfunction LoadEvents() {\n  _s();\n  const [events, setEvents] = useState([]);\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const eventID = queryParams.get('id');\n  useEffect(() => {\n    async function fetchData() {\n      if (eventID !== null) {\n        const tmpEvents = [];\n        const response = await fetch('http://localhost:9000/events?id=' + eventID);\n        const responseJSON = await response.json();\n        var base64Flag = 'data:image;base64,';\n        var imageStr = arrayBufferToBase64(responseJSON.image.data);\n        var event = responseJSON;\n        event.image = base64Flag + imageStr;\n        tmpEvents.push(event);\n        setEvents(tmpEvents);\n      } else {\n        const tmpEvents = [];\n        const response = await fetch('http://localhost:9000/events/');\n        const responseJSON = await response.json();\n        responseJSON.forEach(fetchedEvent => {\n          var base64Flag = 'data:image;base64,';\n          var imageStr = arrayBufferToBase64(fetchedEvent.image.data);\n          var event = fetchedEvent;\n          event.image = base64Flag + imageStr;\n          tmpEvents.push(event);\n        });\n        setEvents(tmpEvents);\n      }\n    }\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"events\",\n    children: events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        \"overflowY\": \"scroll\",\n        \"maxHeight\": \"94vh\",\n        \"width\": \"86vw\",\n        \"margin\": \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          \"display\": \"block\",\n          \"margin\": \"30px 30px\",\n          \"borderBottom\": \"1px solid gray\",\n          \"paddingBottom\": \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: event.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: event.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Time: \", event.startTime, \" - \", event.endTime]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Contact: \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"tel:\" + event.contact,\n            children: event.contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, event.image, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          \"display\": \"block\",\n          \"margin\": \"30px 30px\",\n          \"borderBottom\": \"1px solid gray\",\n          \"paddingBottom\": \"10px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: event.image,\n          alt: \"Couldn't load\",\n          style: {\n            \"display\": \"block\",\n            \"minHeight\": \"200px\",\n            \"width\": \"auto\",\n            \"height\": \"25vh\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)]\n    }, event.image, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }, this);\n}\n_s(LoadEvents, \"eBac3QKApTs1G03STGOtu6o8b6U=\", false, function () {\n  return [useLocation];\n});\n_c2 = LoadEvents;\nexport default Event;\nvar _c, _c2;\n$RefreshReg$(_c, \"Event\");\n$RefreshReg$(_c2, \"LoadEvents\");","map":{"version":3,"names":["React","Suspense","useState","Link","renderMatches","useLocation","MDBContainer","MDBRow","MDBCol","useEffect","Event","images","arrayBufferToBase64","buffer","binary","bytes","slice","call","Uint8Array","forEach","b","String","fromCharCode","window","btoa","LoadEvents","events","setEvents","location","queryParams","URLSearchParams","search","eventID","get","fetchData","tmpEvents","response","fetch","responseJSON","json","base64Flag","imageStr","image","data","event","push","fetchedEvent","map","name","description","startTime","endTime","contact"],"sources":["/Users/ljubomirkolev/DIANS/GitHub/BeOurGuest-Homeworks/Homework 3/client/src/pages/Event.jsx"],"sourcesContent":["import React, { Suspense, useState} from 'react'\nimport { Link, renderMatches, useLocation } from 'react-router-dom';\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n} from 'mdb-react-ui-kit';\nimport { useEffect } from 'react';\nfunction Event (){\n    let images=[]\n        return (\n            <Suspense fallback={<h2>Loading events...</h2>}><LoadEvents/></Suspense>\n        );\n}\n\nfunction arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = [].slice.call(new Uint8Array(buffer));\n    bytes.forEach((b) => binary += String.fromCharCode(b));\n    return window.btoa(binary);\n};\n\nfunction LoadEvents(){\n    const [events,setEvents]=useState([])\n    const location = useLocation();\n    const queryParams = new URLSearchParams(location.search);\n    const eventID=queryParams.get('id')\n        useEffect(()=>{\n            async function fetchData(){\n                if(eventID!==null){\n                    const tmpEvents=[]\n                    const response=await fetch('http://localhost:9000/events?id='+eventID)\n                    const responseJSON=await response.json()\n                    var base64Flag = 'data:image;base64,';\n                        var imageStr =arrayBufferToBase64(responseJSON.image.data);\n                        var event=responseJSON\n                        event.image=base64Flag+imageStr\n                        tmpEvents.push(event)\n                        setEvents(tmpEvents)\n                }\n                else{\n                    const tmpEvents=[]\n                    const response=await fetch('http://localhost:9000/events/')\n                    const responseJSON=await response.json()\n                    responseJSON.forEach((fetchedEvent)=>{\n                        var base64Flag = 'data:image;base64,';\n                        var imageStr =arrayBufferToBase64(fetchedEvent.image.data);\n                        var event=fetchedEvent\n                        event.image=base64Flag+imageStr\n                        tmpEvents.push(event)\n                    })\n                    setEvents(tmpEvents)\n                }\n            }\n\n            fetchData();\n        },[])\n        return(\n            <div id=\"events\">\n                {events.map(event=>(\n                    <div key={event.image} style={{\"overflowY\":\"scroll\",\"maxHeight\":\"94vh\",\"width\":\"86vw\",\"margin\":\"auto\"}}>\n                        <div style={{\"display\":\"block\",\"margin\":\"30px 30px\",\"borderBottom\":\"1px solid gray\",\"paddingBottom\":\"10px\"}} key={event.image}>\n                    <h2>{event.name}</h2>\n                    <h3>{event.description}</h3>\n                    <h3>Time: {event.startTime} - {event.endTime}</h3>\n                    <h3>Contact: <a href={\"tel:\"+event.contact}>{event.contact}</a></h3>\n                    </div>\n                    \n                    <div style={{\"display\":\"block\",\"margin\":\"30px 30px\",\"borderBottom\":\"1px solid gray\",\"paddingBottom\":\"10px\"}}>\n                    <img src={event.image} alt=\"Couldn't load\" style={{\"display\": \"block\",\n                        \"minHeight\":\"200px\",\n                        \"width\": \"auto\",\n                        \"height\": \"25vh\"}}/>\n                    </div>\n                </div>\n                ))}\n            </div>\n        )\n}\nexport default Event"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}